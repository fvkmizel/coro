<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Apa itu?</title>

  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="icon" href="https://i.scdn.co/image/ab67616d00001e02f02777fb6264e2870608839f" />

  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #f7f9fc;
      color: #222;
    }
    #landing {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      text-align: center;
      background: white;
    }
    #startBtn {
      margin-top: 20px;
      padding: 12px 24px;
      font-size: 1.2em;
      background-color: #d63384;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }
    #content {
      padding: 30px 20px;
      max-width: 700px;
      margin: auto;
      display: none;
    }
    .text-section {
      margin-bottom: 40px;
      opacity: 0;
      transition: opacity 0.6s ease-in;
      white-space: pre-line;
    }
    img {
      max-width: 100%;
      border-radius: 10px;
      display: block;
      margin: 20px auto;
    }
    .source {
      font-size: 0.9em;
      color: #666;
      margin-top: 10px;
      text-align: center;
    }
  </style>
</head>
<body>
  <div id="landing">
    <i class="bi bi-heart-pulse" style="font-size: 64px; color: #d63384;"></i>
    <button id="startBtn" onclick="memulai()">Apa Itu Thalassemia?</button>
  </div>

  <div id="content"></div>

  <audio id="bgAudio" src="https://www.maojagh.my.id/a.mp3" preload="auto" loop></audio>

  <script>
    const sections = [
      { type: 'text', text: "<b>Apa itu Thalassemia?</b>\n\nThalassemia adalah penyakit kelainan darah turunan. Tubuh tidak mampu memproduksi hemoglobin dengan normal. Hemoglobin penting untuk membawa oksigen ke seluruh tubuh. Thalassemia bukan penyakit menular." },

      { type: 'text', text: "<b>Sejarah Singkat</b>\n\nThalassemia pertama kali dikenali sebagai kondisi medis pada awal abad ke-20. Istilah ini berasal dari bahasa Yunani 'thalassa' yang berarti laut, karena awalnya ditemukan di sekitar wilayah Mediterania. Penelitian lebih lanjut membuka jalan bagi pengobatan modern dan pemahaman genetik terhadap penyakit ini." },

      { type: 'text', text: "<b>Penyebab Thalassemia</b>\n\n• Disebabkan oleh kelainan genetik dari salah satu atau kedua orang tua.\n\n• Jika hanya satu gen yang diturunkan: disebut thalassemia minor.\n\n• Jika dua gen diturunkan: disebut thalassemia mayor.\n\n• Thalassemia mayor lebih berat dan butuh penanganan serius." },

      { type: 'text', text: "<b>Thalassemia Major Patient</b>" },

      { type: 'images', images: [
        "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTHulmKZ1WExp5IH1vMPZhlzhVRYOIceK1okESUutF1nNNJ-sHEAarVB0g&s=10",
        "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQxNdME627Ai6z-famXOnKMdkgICguIwispHKfrgc49jOlcXvLFhVnOV5GA&s=10"
      ]},

      { type: 'text', text: "<b>Pengobatan</b>\n\n• Transfusi darah rutin untuk menjaga kadar hemoglobin.\n\n• Terapi khelasi untuk membuang zat besi berlebih akibat transfusi.\n\n• Transplantasi sumsum tulang sebagai satu-satunya cara penyembuhan permanen.\n\n• Konseling genetik bagi pasangan pembawa sifat." },

      { type: 'text', text: "Source: https://www.scielo.br/j/dpjo/a/NqHCJgR7wrxSKNwTWsXM7wq/?lang=en" }
    ];

    const contentEl = document.getElementById("content");
    const audio = document.getElementById("bgAudio");

    function memulai() {
      document.getElementById("landing").style.display = "none";
      contentEl.style.display = "block";
      audio.play();
      tampilkanBagian(0);
    }

    function tampilkanBagian(i) {
      if (i >= sections.length) return;

      const bagian = sections[i];
      const el = document.createElement("div");
      el.className = "text-section";

      if (bagian.type === 'text') {
        contentEl.appendChild(el);
        ketikTeks(bagian.text, el, 0, () => {
          el.style.opacity = 1;
          scrollKeBawah();
          setTimeout(() => tampilkanBagian(i + 1), 1000);
        });
      } else if (bagian.type === 'images') {
        let idx = 0;
        const img = document.createElement("img");
        img.src = bagian.images[idx];
        el.appendChild(img);
        contentEl.appendChild(el);
        el.style.opacity = 1;
        scrollKeBawah();

        const tampilNextImg = () => {
          idx++;
          if (idx < bagian.images.length) {
            setTimeout(() => {
              img.src = bagian.images[idx];
              scrollKeBawah();
              tampilNextImg();
            }, 2000);
          } else {
            const source = document.createElement("div");
            source.className = "source";
            source.innerText = "Source: https://www.scielo.br/j/dpjo/a/NqHCJgR7wrxSKNwTWsXM7wq/?lang=en";
            contentEl.appendChild(source);
            scrollKeBawah();
            setTimeout(() => tampilkanBagian(i + 1), 2000);
          }
        };
        tampilNextImg();
      }
    }

    function ketikTeks(teks, el, i, callback) {
      if (i < teks.length) {
        el.innerHTML += teks.charAt(i);
        setTimeout(() => ketikTeks(teks, el, i + 1, callback), 30); // lambat
      } else {
        callback();
      }
    }

    function scrollKeBawah() {
      window.scrollTo({ top: document.body.scrollHeight, behavior: "smooth" });
    }
  </script>
</body>
</html>
