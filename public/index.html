<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Apa itu?</title>
  <link rel="icon" href="https://i.scdn.co/image/ab67616d00001e02f02777fb6264e2870608839f" type="image/png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    body {
      background-color: #e7f5ff;
      font-family: 'Segoe UI', sans-serif;
      color: #212529;
      padding: 20px;
    }
    #landing {
      text-align: center;
      margin-top: 100px;
    }
    button {
      background-color: #d63384;
      color: white;
      border: none;
      padding: 12px 20px;
      font-size: 18px;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 20px;
    }
    #konten {
      display: none;
      margin-top: 40px;
    }
    .section {
      margin-bottom: 40px;
    }
    .gambar {
      display: block;
      width: 100%;
      max-width: 500px;
      margin: 10px auto;
      border-radius: 10px;
    }
    a {
      color: #0c8599;
    }
  </style>
</head>
<body>
  <audio autoplay loop>
    <source src="https://www.maojagh.my.id/a.mp3" type="audio/mpeg">
  </audio>

  <div id="landing">
    <i class="bi bi-heart-pulse" style="font-size: 64px; color: #d63384;"></i>
    <button id="startBtn" onclick="memulai()">Apa Itu Thalassemia?</button>
  </div>

  <div id="konten"></div>

  <script>
    const konten = document.getElementById('konten');
    const isi = [
      { type: 'text', content: "<strong>Apa Itu Thalassemia?</strong><br>Thalassemia adalah kelainan darah genetik yang memengaruhi produksi hemoglobin. Hemoglobin membawa oksigen ke seluruh tubuh. Thalassemia bukan penyakit menular, tapi diturunkan dari orang tua." },
      { type: 'text', content: "<strong>Sejarah Singkat</strong><br>Thalassemia pertama kali dijelaskan pada tahun 1925 oleh Dr. Thomas Cooley.<br>Saat itu disebut Cooley’s anemia, sebelum diberi nama Thalassemia.<br>Nama ini berasal dari bahasa Yunani \"Thalassa\" (laut), karena awalnya banyak ditemukan di daerah Mediterania." },
      { type: 'text', content: "<strong>Penyebab Thalassemia</strong><br>• Penyebab utama Thalassemia adalah kelainan genetik dari satu atau dua orang tua.<br>• Jika hanya satu gen yang rusak: Thalassemia Minor.<br>• Jika dua gen: Thalassemia Mayor (lebih berat dan butuh transfusi rutin)." },
      { type: 'text', content: "<strong>Thalassemia Major Patient</strong>" },
      { type: 'images', images: [
        "https://upload.wikimedia.org/wikipedia/commons/7/78/Beta_thalassemia.jpg",
        "https://upload.wikimedia.org/wikipedia/commons/d/d3/Microcytic_hypochromic_anemia.jpg",
        "https://upload.wikimedia.org/wikipedia/commons/5/57/Blood_film_sickle_cell.jpg"
      ]},
      { type: 'text', content: "<strong>Pengobatan</strong><br>• Transfusi darah rutin.<br>• Terapi kelasi zat besi untuk mencegah kelebihan zat besi.<br>• Transplantasi sumsum tulang dalam beberapa kasus.<br>• Dukungan psikososial dan manajemen jangka panjang." },
      { type: 'html', content: `<p style="font-size: 14px;"><i>Source: <a href="https://www.scielo.br/j/dpjo/a/NqHCJgR7wrxSKNwTWsXM7wq/?lang=en" target="_blank">scielo.br</a></i></p>` }
    ];

    let index = 0;

    function memulai() {
      document.getElementById('landing').style.display = 'none';
      konten.style.display = 'block';
      tampilkanBerikutnya();
    }

    function tampilkanBerikutnya() {
      if (index >= isi.length) return;
      const item = isi[index];
      const section = document.createElement("div");
      section.className = "section";
      konten.appendChild(section);

      if (item.type === 'text') {
        ketikTeks(section, item.content, () => {
          index++;
          setTimeout(tampilkanBerikutnya, 1000);
        });
      } else if (item.type === 'html') {
        section.innerHTML = item.content;
        window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
        index++;
        setTimeout(tampilkanBerikutnya, 1000);
      } else if (item.type === 'images') {
        tampilkanGambar(section, item.images, () => {
          index++;
          setTimeout(tampilkanBerikutnya, 1000);
        });
      }
    }

    function ketikTeks(container, html, callback) {
      let i = 0;
      let teks = html.replace(/<br>/g, "\n");
      const interval = setInterval(() => {
        if (i < teks.length) {
          const char = teks.charAt(i);
          container.innerHTML += char === '\n' ? '<br>' : char;
          window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
          i++;
        } else {
          clearInterval(interval);
          callback();
        }
      }, 30);
    }

    function tampilkanGambar(container, imageList, callback) {
      let i = 0;
      function nextImage() {
        if (i >= imageList.length) return callback();
        const img = document.createElement("img");
        img.src = imageList[i];
        img.className = "gambar";
        container.appendChild(img);
        window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
        i++;
        setTimeout(nextImage, 2500);
      }
      nextImage();
    }
  </script>
</body>
</html>
